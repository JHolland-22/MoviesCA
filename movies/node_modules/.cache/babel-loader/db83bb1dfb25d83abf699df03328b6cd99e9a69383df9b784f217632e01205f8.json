{"ast":null,"code":"var _jsxFileName = \"/Users/jorjaholland/Desktop/web app assignment /react-movie-labs/MoviesCA/MoviesCA/movies/src/pages/actorListPage.js\";\nimport React, { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport PageTemplate from \"../components/templateActorListPage\";\nimport { getActors } from \"../api/tmdb-api\";\nimport { useQuery } from \"react-query\";\nimport Spinner from \"../components/spinner\";\nimport ActorDetails from \"../components/actorDetails\";\nimport Pagination from \"@mui/material/Pagination\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ActorPage = () => {\n  const {\n    id\n  } = useParams();\n  const [page, setPage] = useState(1);\n  const {\n    data: actorData,\n    error,\n    isLoading,\n    isError\n  } = useQuery([\"actor\", {\n    id,\n    page\n  }], () => getActors(page), {\n    keepPreviousData: true\n  });\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 12\n    }, this);\n  }\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: error.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 12\n    }, this);\n  }\n  const actors = (actorData === null || actorData === void 0 ? void 0 : actorData.results) || [];\n  const totalPages = (actorData === null || actorData === void 0 ? void 0 : actorData.total_pages) || 1;\n  const handlePageChange = (event, value) => {\n    setPage(value);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: actors.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(PageTemplate, {\n        title: \"Discover Actors\",\n        actor: actors,\n        children: /*#__PURE__*/_jsxDEV(ActorDetails, {\n          actor: actors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        count: totalPages,\n        page: page,\n        onChange: handlePageChange,\n        color: \"primary\",\n        shape: \"rounded\",\n        sx: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          margin: \"20px 0\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Waiting for actor details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\nexport default ActorPage;","map":{"version":3,"names":["React","useState","useParams","PageTemplate","getActors","useQuery","Spinner","ActorDetails","Pagination","jsxDEV","_jsxDEV","Fragment","_Fragment","ActorPage","id","page","setPage","data","actorData","error","isLoading","isError","keepPreviousData","fileName","_jsxFileName","lineNumber","columnNumber","children","message","actors","results","totalPages","total_pages","handlePageChange","event","value","length","title","actor","count","onChange","color","shape","sx","display","justifyContent","margin"],"sources":["/Users/jorjaholland/Desktop/web app assignment /react-movie-labs/MoviesCA/MoviesCA/movies/src/pages/actorListPage.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport PageTemplate from \"../components/templateActorListPage\";\nimport { getActors } from \"../api/tmdb-api\";\nimport { useQuery } from \"react-query\";\nimport Spinner from \"../components/spinner\";\nimport ActorDetails from \"../components/actorDetails\";\nimport Pagination from \"@mui/material/Pagination\";\n\nconst ActorPage = () => {\n  const { id } = useParams();\n  const [page, setPage] = useState(1);\n\n  const { data: actorData, error, isLoading, isError } = useQuery(\n    [\"actor\", { id, page }],\n    () => getActors(page),\n    {\n      keepPreviousData: true,\n    }\n  );\n\n  if (isLoading) {\n    return <Spinner />;\n  }\n\n  if (isError) {\n    return <h1>{error.message}</h1>;\n  }\n\n  const actors = actorData?.results || [];\n  const totalPages = actorData?.total_pages || 1;\n\n  const handlePageChange = (event, value) => {\n    setPage(value);\n  };\n\n  return (\n    <>\n      {actors.length > 0 ? (\n        <>\n          <PageTemplate title=\"Discover Actors\" actor={actors}>\n            <ActorDetails actor={actors} />\n          </PageTemplate>\n          <Pagination\n            count={totalPages}\n            page={page}\n            onChange={handlePageChange}\n            color=\"primary\"\n            shape=\"rounded\"\n            sx={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              margin: \"20px 0\",\n            }}\n          />\n        </>\n      ) : (\n        <p>Waiting for actor details</p>\n      )}\n    </>\n  );\n};\n\nexport default ActorPage;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,OAAOC,YAAY,MAAM,qCAAqC;AAC9D,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,QAAQ,QAAQ,aAAa;AACtC,OAAOC,OAAO,MAAM,uBAAuB;AAC3C,OAAOC,YAAY,MAAM,4BAA4B;AACrD,OAAOC,UAAU,MAAM,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAElD,MAAMC,SAAS,GAAGA,CAAA,KAAM;EACtB,MAAM;IAAEC;EAAG,CAAC,GAAGZ,SAAS,CAAC,CAAC;EAC1B,MAAM,CAACa,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,CAAC,CAAC;EAEnC,MAAM;IAAEgB,IAAI,EAAEC,SAAS;IAAEC,KAAK;IAAEC,SAAS;IAAEC;EAAQ,CAAC,GAAGhB,QAAQ,CAC7D,CAAC,OAAO,EAAE;IAAES,EAAE;IAAEC;EAAK,CAAC,CAAC,EACvB,MAAMX,SAAS,CAACW,IAAI,CAAC,EACrB;IACEO,gBAAgB,EAAE;EACpB,CACF,CAAC;EAED,IAAIF,SAAS,EAAE;IACb,oBAAOV,OAAA,CAACJ,OAAO;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACpB;EAEA,IAAIL,OAAO,EAAE;IACX,oBAAOX,OAAA;MAAAiB,QAAA,EAAKR,KAAK,CAACS;IAAO;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACjC;EAEA,MAAMG,MAAM,GAAG,CAAAX,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEY,OAAO,KAAI,EAAE;EACvC,MAAMC,UAAU,GAAG,CAAAb,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEc,WAAW,KAAI,CAAC;EAE9C,MAAMC,gBAAgB,GAAGA,CAACC,KAAK,EAAEC,KAAK,KAAK;IACzCnB,OAAO,CAACmB,KAAK,CAAC;EAChB,CAAC;EAED,oBACEzB,OAAA,CAAAE,SAAA;IAAAe,QAAA,EACGE,MAAM,CAACO,MAAM,GAAG,CAAC,gBAChB1B,OAAA,CAAAE,SAAA;MAAAe,QAAA,gBACEjB,OAAA,CAACP,YAAY;QAACkC,KAAK,EAAC,iBAAiB;QAACC,KAAK,EAAET,MAAO;QAAAF,QAAA,eAClDjB,OAAA,CAACH,YAAY;UAAC+B,KAAK,EAAET;QAAO;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC,eACfhB,OAAA,CAACF,UAAU;QACT+B,KAAK,EAAER,UAAW;QAClBhB,IAAI,EAAEA,IAAK;QACXyB,QAAQ,EAAEP,gBAAiB;QAC3BQ,KAAK,EAAC,SAAS;QACfC,KAAK,EAAC,SAAS;QACfC,EAAE,EAAE;UACFC,OAAO,EAAE,MAAM;UACfC,cAAc,EAAE,QAAQ;UACxBC,MAAM,EAAE;QACV;MAAE;QAAAvB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA,eACF,CAAC,gBAEHhB,OAAA;MAAAiB,QAAA,EAAG;IAAyB;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG;EAChC,gBACD,CAAC;AAEP,CAAC;AAED,eAAeb,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}