{"ast":null,"code":"var _jsxFileName = \"/Users/jorjaholland/Desktop/web app assignment /react-movie-labs/MoviesCA/movies/src/pages/homePage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport PageTemplate from '../components/templateMovieListPage';\nimport { getMovies } from \"../api/tmdb-api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HomePage = props => {\n  const [movies, setMovies] = useState([]);\n\n  // Ensuring that movies is defined before filtering\n  const favorites = (movies === null || movies === void 0 ? void 0 : movies.filter(m => m.favorite)) || [];\n  localStorage.setItem('favorites', JSON.stringify(favorites));\n  const addToFavorites = movieId => {\n    const updatedMovies = movies.map(m => m.id === movieId ? {\n      ...m,\n      favorite: true\n    } : m);\n    setMovies(updatedMovies);\n  };\n  useEffect(() => {\n    getMovies().then(movies => {\n      setMovies(movies);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(PageTemplate, {\n    title: \"Discover Movies\",\n    movies: movies,\n    selectFavorite: addToFavorites\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n};\nexport default HomePage;","map":{"version":3,"names":["React","useState","useEffect","PageTemplate","getMovies","jsxDEV","_jsxDEV","HomePage","props","movies","setMovies","favorites","filter","m","favorite","localStorage","setItem","JSON","stringify","addToFavorites","movieId","updatedMovies","map","id","then","title","selectFavorite","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/jorjaholland/Desktop/web app assignment /react-movie-labs/MoviesCA/movies/src/pages/homePage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PageTemplate from '../components/templateMovieListPage';\nimport { getMovies } from \"../api/tmdb-api\";\n\nconst HomePage = (props) => {\n  const [movies, setMovies] = useState([]);\n  \n  // Ensuring that movies is defined before filtering\n  const favorites = movies?.filter(m => m.favorite) || [];\n  localStorage.setItem('favorites', JSON.stringify(favorites));\n\n  const addToFavorites = (movieId) => {\n    const updatedMovies = movies.map((m) =>\n      m.id === movieId ? { ...m, favorite: true } : m\n    );\n    setMovies(updatedMovies);\n  };\n\n  useEffect(() => {\n    getMovies().then(movies => {\n      setMovies(movies);\n    });\n  }, []);\n\n  return (\n    <PageTemplate\n      title='Discover Movies'\n      movies={movies}\n      selectFavorite={addToFavorites}\n    />\n  );\n};\n\nexport default HomePage;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,YAAY,MAAM,qCAAqC;AAC9D,SAASC,SAAS,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,MAAMC,QAAQ,GAAIC,KAAK,IAAK;EAC1B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;;EAExC;EACA,MAAMU,SAAS,GAAG,CAAAF,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEG,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,QAAQ,CAAC,KAAI,EAAE;EACvDC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACP,SAAS,CAAC,CAAC;EAE5D,MAAMQ,cAAc,GAAIC,OAAO,IAAK;IAClC,MAAMC,aAAa,GAAGZ,MAAM,CAACa,GAAG,CAAET,CAAC,IACjCA,CAAC,CAACU,EAAE,KAAKH,OAAO,GAAG;MAAE,GAAGP,CAAC;MAAEC,QAAQ,EAAE;IAAK,CAAC,GAAGD,CAChD,CAAC;IACDH,SAAS,CAACW,aAAa,CAAC;EAC1B,CAAC;EAEDnB,SAAS,CAAC,MAAM;IACdE,SAAS,CAAC,CAAC,CAACoB,IAAI,CAACf,MAAM,IAAI;MACzBC,SAAS,CAACD,MAAM,CAAC;IACnB,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEH,OAAA,CAACH,YAAY;IACXsB,KAAK,EAAC,iBAAiB;IACvBhB,MAAM,EAAEA,MAAO;IACfiB,cAAc,EAAEP;EAAe;IAAAQ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChC,CAAC;AAEN,CAAC;AAED,eAAevB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}